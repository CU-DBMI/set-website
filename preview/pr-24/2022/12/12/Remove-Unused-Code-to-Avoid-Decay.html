<!DOCTYPE html>
<html lang="en" data-dark="false">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!--
  put your analytics (e.g. Google Analytics) tracking code here
-->

  <!--
  put your search engine verification (e.g. Google Search Console) tag here
-->

  

























<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Tip of the Week: Remove Unused Code to Avoid Software Decay | Software Engineering Team</title>

<link rel="icon" href="/set-website/preview/pr-24/images/icon.png">

<meta name="title" content="Tip of the Week: Remove Unused Code to Avoid Software Decay">
<meta name="description" content="The software engineering team of the Department of Biomedical Informatics at the University of Colorado Anschutz">

<meta property="og:title" content="Tip of the Week: Remove Unused Code to Avoid Software Decay">
<meta property="og:site_title" content="Software Engineering Team">
<meta property="og:description" content="The software engineering team of the Department of Biomedical Informatics at the University of Colorado Anschutz">
<meta property="og:url" content="">
<meta property="og:image" content="/set-website/preview/pr-24/images/share.jpg">
<meta property="og:locale" content="en_US">

<meta property="twitter:title" content="Tip of the Week: Remove Unused Code to Avoid Software Decay">
<meta property="twitter:description" content="The software engineering team of the Department of Biomedical Informatics at the University of Colorado Anschutz">
<meta property="twitter:url" content="">
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:image" content="/set-website/preview/pr-24/images/share.jpg">


  <meta name="author" content="dave-bunten">
  <meta property="og:type" content="article">
  <meta property="og:updated_time" content="2023-09-11T21:28:29+00:00">
  <meta property="article:published_time" content="2022-12-12T00:00:00+00:00">
  <meta property="article:modified_time" content="2023-09-11T21:28:29+00:00">
  <meta name="revised" content="2023-09-11T21:28:29+00:00">


<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "BlogPosting",
      "author": { "@type": "Person", "name": "Tip of the Week: Remove Unused Code to Avoid Software Decay" },
      "datePublished": "2022-12-12T00:00:00+00:00",
      "dateModified": "2023-09-11T21:28:29+00:00",
    
    "name": "Tip of the Week: Remove Unused Code to Avoid Software Decay",
    "description": "The software engineering team of the Department of Biomedical Informatics at the University of Colorado Anschutz",
    "headline": "Tip of the Week: Remove Unused Code to Avoid Software Decay",
    "publisher": {
      "@type": "Organization",
      "logo": { "@type": "ImageObject", "url": "/set-website/preview/pr-24/images/icon.png" }
    },
    "url": ""
  }
</script>

<link rel="alternate" type="application/rss+xml" href="/set-website/preview/pr-24/feed.xml">

  <!-- Google Fonts -->
<!-- automatically get url from fonts used in theme file -->

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?display=swap&&family=Barlow:ital,wght@0,200;0,400;0,500;0,600;1,200;1,400;1,500;1,600&amp;family=Roboto+Mono:ital,wght@0,200;0,400;0,500;0,600;1,200;1,400;1,500;1,600" rel="stylesheet">

<!-- Font Awesome icons (load asynchronously due to size) -->

<link href="https://use.fontawesome.com/releases/v6.3.0/css/all.css" rel="preload" as="style" onload="this.onload = null; this.rel = 'stylesheet';">
<noscript>
  <link href="https://use.fontawesome.com/releases/v6.3.0/css/all.css" rel="stylesheet">
</noscript>

  <!-- third party styles -->
<!-- https://stylishthemes.github.io/Syntax-Themes/pygments/ -->
<link href="https://cdn.jsdelivr.net/gh/StylishThemes/Syntax-Themes/pygments/css-github/pygments-tomorrow-night-eighties.css" rel="stylesheet">

<!-- include all sass in styles folder -->


  
    <link href="/set-website/preview/pr-24/_styles/-theme.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/alert.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/all.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/anchor.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/background.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/body.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/bold.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/button.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/card.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/checkbox.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/citation.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/code.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/cols.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/dark-toggle.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/feature.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/figure.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/float.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/font.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/footer.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/form.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/grid.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/header.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/heading.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/highlight.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/icon.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/image.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/link.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/list.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/main.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/paragraph.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/portrait.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/post-excerpt.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/post-info.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/post-nav.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/quote.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/rule.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/search-box.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/search-info.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/section.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/table.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/tags.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/textbox.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/tooltip.css" rel="stylesheet">
  

  
    <link href="/set-website/preview/pr-24/_styles/util.css" rel="stylesheet">
  


<!-- include all css in styles folder -->



  <!-- third party scripts -->
<script src="https://unpkg.com/@popperjs/core@2" defer></script>
<script src="https://unpkg.com/tippy.js@6" defer></script>
<script src="https://unpkg.com/mark.js@8" defer></script>

<!-- include all js in scripts folder -->


  <script src="/set-website/preview/pr-24/_scripts/anchors.js"></script>

  <script src="/set-website/preview/pr-24/_scripts/dark-mode.js"></script>

  <script src="/set-website/preview/pr-24/_scripts/fetch-tags.js"></script>

  <script src="/set-website/preview/pr-24/_scripts/search.js"></script>

  <script src="/set-website/preview/pr-24/_scripts/site-search.js"></script>

  <script src="/set-website/preview/pr-24/_scripts/tooltip.js"></script>


</head>

  <body>
    







<header class="background" style="--image: url('/set-website/preview/pr-24/images/background.jpg')" data-dark="true">
  <a href="/set-website/preview/pr-24/" class="home">
    
      <span class="logo">
        
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="-60 -50 120 100">
  <defs>
    <lineargradient id="gradient" gradientunits="userSpaceOnUse" x1="-10" y1="0" x2="10" y2="0">
      <stop stop-color="#7e57c2" offset="0%"></stop>
      <stop stop-color="#2196f3" offset="100%"></stop>
    </lineargradient>
  </defs>
  <style>
    path {
      stroke-dasharray: var(--length);
      animation: draw 1s both;
    }

    @keyframes draw {
      from {
        stroke-dashoffset: var(--length);
      }
      to {
        stroke-dashoffset: 0;
      }
    }

    .bracket {
      --length: 56.569;
    }

    .slash {
      --length: 63.246;
      animation-delay: 0.75s;
    }
  </style>
  <g fill="none" stroke="url(#gradient)" stroke-width="8" stroke-linecap="round" stroke-linejoin="round">
    <path class="bracket" d="M -30 -20 L -50 0 L -30 20"></path>
    <path class="bracket" d="M 30 20 L 50 0 L 30 -20"></path>
    <path class="slash" d="M 10 -30 L -10 30"></path>
  </g>
</svg>

        
      </span>
    
    
      <span class="title" data-tooltip="Home">
        
          <span>Software Engineering Team</span>
        
        
          <span>CU Dept. of Biomedical Informatics</span>
        
      </span>
    
  </a>

  <input class="nav-toggle" type="checkbox" aria-label="show/hide nav">

  <nav>
    
    
      
        <a href="/set-website/preview/pr-24/about/" data-tooltip="">
          About
        </a>
      
    
      
        <a href="/set-website/preview/pr-24/portfolio/" data-tooltip="">
          Portfolio
        </a>
      
    
      
        <a href="/set-website/preview/pr-24/blog/" data-tooltip="Musings and miscellany">
          Blog
        </a>
      
    
  </nav>
</header>

    <main>
      <!--
  modify main content of page:
  - add section breaks
  - attach section properties
  - wrap each table in div to allow for scrolling
  - filter out blank sections
-->








  
  
  

  <section class="background" data-size="page">
    <h1 class="center">Tip of the Week: Remove Unused Code to Avoid Software Decay</h1>

<div class="post-info">
  
    
    
      

<div class="portrait-wrapper">
  <a href="/set-website/preview/pr-24/members/dave-bunten.html" class="portrait" data-style="tiny" aria-label="Dave Bunten (@d33bs)">
    <img src="/set-website/preview/pr-24/images/dave-bunten.jpg" class="portrait-image" alt="member portrait" loading="lazy" onerror="this.src = '/set-website/preview/pr-24/images/fallback.svg'; this.onerror = null;">

    
      <span class="portrait-text">
        
          <span class="portrait-name">
            Dave Bunten (@d33bs)
          </span>
        

        
          <span class="portrait-role">
            
            <i class="icon fa-solid fa-code"></i>
            <span>Research Data Engineer</span>
          </span>
        
      </span>
    
  </a>
</div>

    
  

  
  

  
    <span data-tooltip="Originally published on">
      <i class="icon fa-regular fa-calendar"></i>
      <span>December 12, 2022</span>
    </span>
  

  
    <span data-tooltip="Last updated on">
      <i class="icon fa-solid fa-clock-rotate-left"></i>
      <span>September 11, 2023</span>
    </span>
  
</div>


  


  <div class="tags" data-link="/set-website/preview/pr-24/blog">
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20tip-of-the-week%22" class="tag" data-tooltip='Show items with the tag "tip-of-the-week"'>
        tip-of-the-week
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20software%22" class="tag" data-tooltip='Show items with the tag "software"'>
        software
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20code-quality%22" class="tag" data-tooltip='Show items with the tag "code-quality"'>
        code-quality
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20software-decay%22" class="tag" data-tooltip='Show items with the tag "software-decay"'>
        software-decay
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20code-decay%22" class="tag" data-tooltip='Show items with the tag "code-decay"'>
        code-decay
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20vulture%22" class="tag" data-tooltip='Show items with the tag "vulture"'>
        vulture
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20pylint%22" class="tag" data-tooltip='Show items with the tag "pylint"'>
        pylint
      </a>
    
      <a href="/set-website/preview/pr-24/blog?search=%22tag:%20coverage.py%22" class="tag" data-tooltip='Show items with the tag "coverage.py"'>
        coverage.py
      </a>
    
  </div>
  </section>

  
  
  

  <section class="background" data-size="page">
    <!--
  background: ;
  dark: ;
  size: ;
-->


<h1 id="tip-of-the-week-remove-unused-code-to-avoid-software-decay">Tip of the Week: Remove Unused Code to Avoid Software Decay</h1>

<div class="alert" style="--color: #0ea5e9">
  
  <i class="icon fa-solid fa-circle-info"></i>
  <div class="alert-content">
    
<p>Each week we seek to provide a software tip of the week geared towards helping you achieve your software goals. Views
expressed in the content belong to the content creators and not the organization, its affiliates, or employees. If you
have any software questions or suggestions for an upcoming tip of the week, please don’t hesitate to reach out to
#software-engineering on Slack or email DBMISoftwareEngineering at olucdenver.onmicrosoft.com</p>

  </div>
</div>

<!-- excerpt start -->

<p>The act of creating software often involves many iterations of writing, personal collaborations, and testing. During this process it’s common to lose awareness of code which is no longer used, and thus may not be tested or otherwise linted. Unused code may contribute to <a href="https://en.wikipedia.org/wiki/Software_rot">“software decay”</a>, the gradual diminishment of code quality or functionality. This post will cover software decay and strategies for addressing unused code to help keep your code quality high.</p>

<!-- excerpt end -->

<p><strong>TLDR (too long, didn’t read);</strong>
Unused code is easy to amass and may cause your code quality or code functionality to diminish (“decay”) over time. Effort must be taken to maintain any code or artifacts you add to your repositories, including those which are unused. Consider using <a href="https://github.com/jendrikseipp/vulture">Vulture</a>, <a href="https://pylint.pycqa.org/">Pylint</a>, or <a href="https://coverage.readthedocs.io/">Coverage</a> to help illuminate sections of your code which may need to be removed.</p>

<h2 id="code-lifecycle-and-maintenance">Code Lifecycle and Maintenance</h2>

<pre class="mermaid">
stateDiagram
    direction LR
    removal : removed or archived
    changes : changes needed
    [*] --&gt; added
    added --&gt; maintenance
    state maintenance {
      direction LR
      updated --&gt; changes
      changes --&gt; updated
    }
    maintenance --&gt; removal
    removal --&gt; [*]
</pre>
<script type="module">
  import mermaid from 'https://unpkg.com/mermaid@9/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>

<p><em>Diagram showing code lifecycle activities.</em></p>

<p>Adding code to a project involves a loose agreement to maintenance for however long the code is available. The maintenance of the code can involve added efforts in changes as well as passive impacts like longer test durations or decreased readability (simply from more code).</p>

<div id="vis" class="center"></div>

<script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>

<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.0"></script>

<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>

<script>
var spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.5.0.json",
    "description": "A simple line chart to demonstrate lines of code and associated theoretical time cost.",
    "title":"Time Cost per Line of Code",
    "width": 500,
    "height": 200,
    "config": {
      "title":{"fontSize":14},
      "axisY":{"titleFontSize":14, "labelFontSize":12},
      "axisX":{"titleFontSize":14, "labelFontSize":12}
    },
    "data": {
      "values": [
        {"x": 1, "y": 28},
        {"x": 1000, "y": 500}
      ]
    },
    "mark": {"type": "line", "point": {"filled": false,
      "fill": "white", "size":50
    }},
    "encoding": {
      "x": {"title": "Lines of Code", "field": "x", "type": "quantitative", "scale": {"domain": [1, 1000]}
      },
      "y": {"title": "Time (minutes)", "field": "y", "type": "quantitative", "scale": {"domain": [1, 500]}}
    }
  }
const embed_opt = {"mode": "vega-lite"};
const el = document.getElementById('vis');
const view = vegaEmbed("#vis", spec, embed_opt);
</script>

<p>When considering multiple parts of code in many files, this maintenance can become untenable, leading to the gradual decay of your code quality or functionality. For example, let’s assume one line of code costs 30 seconds to maintain (feel free to substitute time with monetary or personnel aspects as an example measure here too). 1000 lines of code would cost 500 minutes (or about 8 hours) to maintain. This becomes more complex when considering multiple files, collaborators, or languages.</p>

<p class="center"><i class="fas fa-hiking" style="font-size:4em;"></i></p>

<p>Think about your project as if it were on a hiking trail: <strong>“Carry as little as possible, but choose that little with care.”</strong> (Earl Shaffer). Be careful what code you choose to carry; it may impact your ability to address needs over time and lead to otherwise unintended software decay.</p>

<h2 id="detecting-unused-code-with-vulture">Detecting Unused Code with Vulture</h2>

<p>Understanding the cost of added content, it’s important to routinely examine which parts of your code are still necessary. You can prepare your code for a long journey by detecting (and removing) unused code with various automated tools. These tools are generally designed for static analysis and linting, meaning they may also be incorporated into automated and routine testing.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>vulture unused_code_example.py
unused_code_example.py:3: unused import <span class="s1">'os'</span> <span class="o">(</span>90% confidence<span class="o">)</span>
unused_code_example.py:4: unused import <span class="s1">'pd'</span> <span class="o">(</span>90% confidence<span class="o">)</span>
unused_code_example.py:7: unused <span class="k">function</span> <span class="s1">'unused_function'</span> <span class="o">(</span>60% confidence<span class="o">)</span>
unused_code_example.py:14: unused variable <span class="s1">'unused_var'</span> <span class="o">(</span>60% confidence<span class="o">)</span>
</code></pre></div></div>

<p><em>Example of Vulture command line usage to discover unused code.</em></p>

<p><a href="https://github.com/jendrikseipp/vulture">Vulture</a> is one tool dedicated to finding unused python code. Vulture provides both a command line interface and Python API for discovering unused code. It also provide a rough confidence to show how certain it was about whether the block of code was unused. See the following interactive example for a demonstration of using Vulture.</p>

<p><a href="https://cu-dbmi.github.io/notebooks/lab?path=unused_code_detection.ipynb">Interactive Example on Unused Code Detection</a></p>

<h2 id="further-code-usefulness-detection-with-pylint-and-coveragepy">Further Code Usefulness Detection with Pylint and Coverage.py</h2>

<p>In addition to Vulture, <a href="https://pylint.pycqa.org/en/latest/index.html">Pylint</a> and <a href="https://coverage.readthedocs.io/">Coverage.py</a> can be used in a similar way to help show where code may not have been used within your project.</p>

<p><a href="https://pylint.pycqa.org/en/latest/index.html">Pylint</a> focuses on code style and other static analysis in addition to unused variables. See <a href="https://pylint.pycqa.org/en/latest/user_guide/checkers/features.html">Pylint’s Checkers</a> page for more details here, using “unused-*” as a reference to checks it performs which focus on unused code.</p>

<p><a href="https://coverage.readthedocs.io/">Coverage.py</a> helps show you which parts of your code have been executed or not. A common usecase for Coverage involves measuring “test coverage”, or which parts of your code are executed in relationship to tests written for that code. This provides another perspective on code utility: if there’s not a test for the code, is it worth keeping?</p>

<h2 id="additional-resources">Additional Resources</h2>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Software_rot">Software Rot</a></li>
  <li><a href="https://github.com/jendrikseipp/vulture">Vulture</a></li>
  <li><a href="https://pylint.pycqa.org/en/latest/index.html">Pylint</a></li>
  <li><a href="https://coverage.readthedocs.io/">Coverage</a></li>
</ul>
  </section>

  
  
  

  <section class="background" data-size="page">
    <!--
  background: ;
  dark: ;
  size: ;
-->


<div class="post-nav">
  <span>
    
      <i class="icon fa-solid fa-angle-left"></i> Previous post<br>
      <a href="/set-website/preview/pr-24/2022/12/05/Data-Engineering-with-SQL-Arrow-and-DuckDB.html">
        Tip of the Week: Data Engineering with SQL, Arrow and DuckDB
      </a>
    
  </span>
  <span>
    
      Next post <i class="icon fa-solid fa-angle-right"></i><br>
      <a href="/set-website/preview/pr-24/2023/01/03/Linting-Documentation-as-Code.html">
        Tip of the Week: Linting Documentation as Code
      </a>
    
  </span>
</div>
  </section>


    </main>
    


<footer class="background" style="--image: url('/set-website/preview/pr-24/images/background.jpg')" data-dark="true" data-size="wide">
  <!--
    <div>
      Extra details like contact info or address
    </div>
  -->

  <div>
    
      
      
      



  <div class="button-wrapper">
    <a class="button" href="https://github.com/CU-DBMI" data-tooltip="GitHub" data-style="bare" aria-label="GitHub">
      <i class="icon fa-brands fa-github"></i>
      
    </a>
  </div>


    
  </div>

  <div>
    © 2023
    Software Engineering Team
      |   Built with
    <a href="https://github.com/greenelab/lab-website-template">
      Lab Website Template
    </a>
  </div>

  <input type="checkbox" class="dark-toggle" data-tooltip="Dark mode" aria-label="toggle dark mode" oninput="onDarkToggleChange(event)">
</footer>

  </body>
</html>
